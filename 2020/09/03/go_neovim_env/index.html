<!doctype html><html lang=zh dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim | no code no pain</title>
<meta name=keywords content="vim,neovim">
<meta name=description content="ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang? ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚
(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚
 æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚
 é å‚™å‹•ä½œ Must have
 ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œbrew install neovim --HEAD ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ :PlugInstall ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½  Nice to have">
<meta name=author content="amikai">
<link rel=canonical href=https://amikai.github.io/2020/09/03/go_neovim_env/>
<link href=/assets/css/stylesheet.min.746a86b58bb2b052b5e4df8216510494f04f81e62c08d626150c26c69ca929da.css integrity="sha256-dGqGtYuysFK15N+CFlEElPBPgeYsCNYmFQwmxpypKdo=" rel="preload stylesheet" as=style>
<link rel=icon href=https://amikai.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://amikai.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://amikai.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://amikai.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://amikai.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.86.0">
<link rel=alternate hreflang=zh href=https://amikai.github.io/2020/09/03/go_neovim_env/>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-172478407-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<meta property="og:title" content="Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim">
<meta property="og:description" content="ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang? ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚
(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚
 æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚
 é å‚™å‹•ä½œ Must have
 ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œbrew install neovim --HEAD ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ :PlugInstall ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½  Nice to have">
<meta property="og:type" content="article">
<meta property="og:url" content="https://amikai.github.io/2020/09/03/go_neovim_env/"><meta property="og:image" content="https://amikai.github.io/2020/09/03/go_neovim_env/cover.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-09-03T10:48:54+00:00">
<meta property="article:modified_time" content="2020-09-03T10:48:54+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://amikai.github.io/2020/09/03/go_neovim_env/cover.png">
<meta name=twitter:title content="Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim">
<meta name=twitter:description content="ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang? ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚
(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚
 æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚
 é å‚™å‹•ä½œ Must have
 ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œbrew install neovim --HEAD ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ :PlugInstall ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½  Nice to have">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://amikai.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim","item":"https://amikai.github.io/2020/09/03/go_neovim_env/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim","name":"Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim","description":"ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang? ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚\n(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚\n æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚\n é å‚™å‹•ä½œ Must have\n ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œbrew install neovim --HEAD ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ :PlugInstall ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½  Nice to have","keywords":["vim","neovim"],"articleBody":"ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang? ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚\n(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚\n æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚\n é å‚™å‹•ä½œ Must have\n ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œbrew install neovim --HEAD ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ :PlugInstall ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½  Nice to have\n ä½ çŸ¥é“ :checkhealth å’Œ :UpdateRemotePlugin ä½ ç†Ÿæ‚‰ :help çš„ä½¿ç”¨æ–¹å¼ï¼Œé€™è£¡æœ‰ä¸€ç¯‡å¥½æ–‡ï¼šLearn to use help  é–‹ç™¼ç’°å¢ƒåŸºæœ¬åŠŸèƒ½ ä¸€å€‹å¥½ç”¨çš„ Editor æˆ‘èªç‚ºæ‡‰è©²åŒ…å«ä»¥ä¸‹å¹¾é»åŸºæœ¬åŠŸèƒ½:\n Auto completion - å¥½çš„è‡ªå‹•è£œå…¨å¼•æ“ File manager - å¯ä»¥åœ¨å´é‚Šæ¬„çœ‹åˆ°å°ˆæ¡ˆçš„çµæ§‹ Real time linter - åœ¨å¯« code çŠ¯éŒ¯çš„åŒæ™‚ï¼Œæœ‰ä¸€äº›æç¤º (ä¹Ÿå°±æ˜¯ diagnostic åŠŸèƒ½) Background compile - ç·¨è­¯çš„åŒæ™‚ä¸æ‡‰è©²å¡ä½æ•´å€‹ Editorï¼Œè¦è®“ä½¿ç”¨è€…èƒ½åšå…¶ä»–äº‹æƒ… Code navigation: åŒ…å«è·³è½‰åˆ°å®šç¾©ï¼Œè·³è½‰åˆ°å‹æ…‹å®šç¾©ï¼Œæˆ–æ˜¯ç•¶ä¸€å€‹æª”æ¡ˆå¯«å¾—å¾ˆé•·çš„æ™‚å€™ï¼Œæ€éº¼ç¶œè§€å…¨å±€  ä»¥ä¸‹æˆ‘å°‡æœƒä»‹ç´¹æˆ‘ä½¿ç”¨çš„ Pluginï¼Œé”åˆ°æˆ‘ä¸Šè¿°æ‰€æåˆ°çš„åŠŸèƒ½ã€‚ ä»¥ä¸‹ä½¿ç”¨çš„çš†æ˜¯ Neovim nightly ç‰ˆæœ¬ï¼Œä½¿ç”¨ stable æ˜¯æ²’æœ‰å®˜æ–¹ LSP æ”¯æ´çš„ã€‚\nNoteï¼šneovim æ˜¯ç”± vim æ‰€ fork å‡ºä¾†çš„ï¼Œå·®ç•°ä»‹ç´¹è«‹çœ‹é€™ç¯‡ï¼ŒæŸäº› Plugin ä¸æœƒåŒæ™‚ç›¸å®¹æ–¼å…©è€…ï¼Œæˆ‘æ¥æœƒæ¨™æ˜ã€‚\nFile explorer (defx.nvim) ç‚ºä»€éº¼ä¸ç”¨è€ç‰Œçš„ nerdtree å°±å¥½ï¼Œè¦ä½¿ç”¨åˆ¥çš„ file explorerï¼Œ æ²’è¾¦æ³• nerdtree å°±æ˜¯æ…¢ï¼Œåªè¦å°ˆæ¡ˆç¨å¾®æœ‰ä¸€é»è¦æ¨¡ï¼Œå°±æœƒæœ‰æ˜é¡¯çš„å¡é “ã€‚\ndefx ç”± python3 å¯«æˆï¼Œæ˜¯ä¸€å€‹éœ€è¦é«˜åº¦æ‰‹å‹•è¨­å®šçš„ file explorerï¼Œä¸åƒ nerdtree å¹¾ä¹å¯ä»¥é–‹ç®±åŠç”¨ï¼Œåœ¨è¨­å®šæ™‚ä¸€å®šå¾—æŸ¥çœ‹ defx çš„ help æ–‡ä»¶ï¼Œè£¡é ­æœ‰ç›¸ç•¶å¤šè¨­å®šç¯„ä¾‹ã€‚\nç‚ºäº†è®“ neovim çŸ¥é“ python3 åœ¨å“ªï¼Œå°‡æ­¤è¡Œå¯«å…¥ vimrcï¼š\nlet g:python3_host_prog = '/path/to/python3'è¨­å®šå®Œæ­¤è¡Œä¹‹è¡Œ åŸ·è¡Œ :checkhealthï¼Œneovim å°±æœƒé–‹å§‹æŸ¥çœ‹æœ‰æ²’æœ‰æŠ“åˆ° python3\nå®‰è£\nPlug 'Shougo/defx.nvim'å®‰è£å®Œå¾ŒåŸ·è¡Œ :UpdateRemotePlugins\nä½¿ç”¨ F4 æ˜ å°„åˆ° defx\nnoremap silentF4 cmdDefx -buffer-name=\"defx\"crå¤–è§€è¨­å®š\ncall defx#custom#column('icon', { \\ 'directory_icon': 'â–¸', \\ 'opened_icon': 'â–¾', \\ 'root_icon': 'ğŸ“ ', \\ })call defx#custom#column('filename', { \\ 'min_width': 128, \\ 'max_width': 128, \\ })call defx#custom#option('_', { \\ 'columns': 'mark:indent:icon:filename:type', \\ 'split': 'vertical', \\ 'winwidth': 35, \\ 'direction': 'topleft', \\ 'resume': v:false, \\ 'toggle': v:true \\ })ä½¿ç”¨ enter æ‰“é–‹æˆ–é—œé–‰è³‡æ–™å¤¾ï¼š\nnnoremap silentbufferexpr CR \\ defx#is_directory() ? \\ defx#do_action('open_or_close_tree') : \\ defx#do_action('drop')å› ç‚º defx çš„é«˜åº¦å½ˆæ€§ï¼Œä»¥åŠèˆŠæœ‰çš„ nerdtreeä½¿ç”¨ç¿’æ…£ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠ defx çš„ key mapping è¨­å®šæˆé¡ä¼¼ nerdtreeï¼Œé€™è£¡å°±åªåšåŸºæœ¬è¨­å®šï¼Œä»¥å¾Œæœ‰ç©ºæœƒå¤šé–‹ä¸€ç¯‡è©³ç´°è¬› defx è¨­å®šï¼Œå¦‚æœæœ‰èˆˆè¶£è«‹åƒè€ƒæˆ‘çš„è¨­å®š\nNote: defx (neovim only)\né¡ä¼¼ Plugin: nerdtree (vim and neovim), vim-dirvish (vim and neovim)\nAuto completion (completion-nvim) \u0026 diagnostic (diagnostic-nvim) completion-nvim å’Œ diagnostic-nvim éƒ½æ˜¯åŸºæ–¼ nvim-lspconfig çš„ Pluginï¼Œ å¯ä»¥æŠŠ nvim-lspconfig ç•¶æˆå’Œ language server æºé€šçš„åŸºç¤è¨­æ–½ï¼ŒGolang é è¨­çš„ language server ç•¶ç„¶å°±æ˜¯ gopls å•¦\nå®‰è£\nPlug 'neovim/nvim-lspconfig'Plug 'nvim-lua/diagnostic-nvim'Plug 'nvim-lua/completion-nvim'åœ¨ lsp client æ™‚ï¼Œå•Ÿå‹• completion-nvim å’Œ diagnostic-nvimï¼š\nlua  EOF local nvim_lsp = require'nvim_lsp' local on_attach_vim = function(client, bufnr) require'completion'.on_attach(client, bufnr) require'diagnostic'.on_attach(client, bufnr) end nvim_lsp.gopls.setup{ on_attach=on_attach_vim } EOF diagnostic-nvim ç¯„ä¾‹è¨­å®šï¼š\ncall sign_define(\"LspDiagnosticsErrorSign\", {\"text\" : \"E\", \"texthl\" : \"LspDiagnosticsError\"})call sign_define(\"LspDiagnosticsWarningSign\", {\"text\" : \"W\", \"texthl\" : \"LspDiagnosticsWarning\"})call sign_define(\"LspDiagnosticsInformationSign\", {\"text\" : \"I\", \"texthl\" : \"LspDiagnosticsInformation\"})call sign_define(\"LspDiagnosticsHintSign\", {\"text\" : \"H\", \"texthl\" : \"LspDiagnosticsHint\"})let g:diagnostic_show_sign = 1let g:diagnostic_enable_virtual_text = 1let g:diagnostic_insert_delay = 0let g:diagnostic_virtual_text_prefix = 'æ•ˆæœï¼š å¦‚æœè¦ºå¾—å­—é‚„æ²’æ‰“å®Œå°±æœ‰è­¦å‘Šå¾ˆç…©ï¼Œå¯ä»¥æ”¹è®Šæ­¤é¸é … let g:diagnostic_insert_delay = 1ï¼Œå‰‡æœƒåœ¨é€²å…¥ normal mode æ™‚é€²è¡Œè­¦å‘Šã€‚\ncompletion-nvim ç¯„ä¾‹è¨­å®šï¼š\nlet g:completion_chain_complete_list = [ \\{'complete_items': ['lsp']}, \\]æ•ˆæœ Note: nvim-lspconfig, completion-nvim, diagnostic-nvim çš†ä¸ç›¸å®¹ vim\nLSP ç›¸é—œ Pluginï¼š vim-lsp (vim only), LanguageClient-neovim (neovim only)\nCompletion ç›¸é—œ Pluginï¼š ncm2 (vim8 and neovim), deoplete.nvim (vim8 and neovim)\nDiagnostic ç›¸é—œ Plugin: neomake (neovim and vim8), ale (neovim and vim8)\n çœ‹äº† completion-nvim çš„ contribution å¤§éƒ¨åˆ†æ˜¯ç”± haorenW1025 å¤§å¤§æ‰€å¯«ï¼Œå¸³è™Ÿæ› NTUï¼Œå°ç£äººå¯«çš„å¥—ä»¶é‚„ä¸æ”¯æŒä¸€æ³¢\n Code Outline (tagbar) ç•¶ code è¶Šå¯«è¶Šå¤šï¼Œä¸€å€‹ file è¶Šé•·è¶Šå¤§ï¼Œä¸€å€‹ file è¶…é 1000 è¡Œï¼Œæˆ–è¶…é 15 å€‹ functionï¼Œå°±éœ€è¦ä¸€å€‹ç¶œè§€å…¨å±€çš„ Pluginï¼Œé€™ç•¶ç„¶å°±éœ€è¦äº¤çµ¦ tagbar äº†ã€‚\nå¦å¤–ä¸€ç¨®æƒ…å¢ƒï¼Œç•¶ä½ ä¸ç†Ÿä½ æ‰‹ä¸Šçš„é€™ä»½å°ˆæ¡ˆæ™‚ï¼Œç”¨ tagbar å…ˆé€²è¡Œå¤§ç¶±å¼çš„è§€å¯Ÿï¼Œæ˜¯å†å¥½ä¸éçš„æ–¹å¼äº†\né¦–å…ˆå…ˆå®‰è£ gotags, gotags åœ¨ Readme ä¸Šéƒ½å¯«å¥½æ€éº¼è¨­å®šäº†ã€‚\nå®‰è£ Tagbar:\nPlug 'majutsushi/tagbar'gotags åŠ tagbar è¨­å®šï¼š\nlet g:tagbar_type_go = { \\ 'ctagstype' : 'go', \\ 'kinds' : [ \\ 'p:package', \\ 'i:imports:1', \\ 'c:constants', \\ 'v:variables', \\ 't:types', \\ 'n:interfaces', \\ 'w:fields', \\ 'e:embedded', \\ 'm:methods', \\ 'r:constructor', \\ 'f:functions' \\ ], \\ 'sro' : '.', \\ 'kind2scope' : { \\ 't' : 'ctype', \\ 'n' : 'ntype' \\ }, \\ 'scope2kind' : { \\ 'ctype' : 't', \\ 'ntype' : 'n' \\ }, \\ 'ctagsbin' : 'gotags', \\ 'ctagsargs' : '-sort -silent' \\ }Go development plugin (vim-go) Golang åœ¨ vim çš„é–‹ç™¼ä¸­ï¼Œä¸å¯èƒ½ä¸æ vim-go äº†ï¼Œæ‡‰è©²ä¹Ÿæ˜¯æˆ‘åœ¨ vim plugin çœ‹éæ”¯æ´å®Œæ•´çš„é–‹ç™¼å·¥å…·ä¹‹ä¸€äº†ï¼Œvim-go è¨­å®šçœ¾å¤šï¼Œæˆ‘åªæŒ‘å‡ºäº†æˆ‘è¦ºå¾—æœ€æœ‰ç”¨çš„å¹¾å€‹å‡ºä¾†è«‡ã€‚\nå®‰è£\nPlug 'fatih/vim-go',{'for':'go', 'do': ':GoUpdateBinaries'}golangci-lint æ˜¯æŠŠä¸ä¸€æ¨£çš„ go èªè¨€ linter é›†åˆèµ·ä¾†æˆä¸€åŒ…ï¼Œåœ¨ teminal æ‰“ golangci-lint linters å°±æœƒåˆ—å‡ºä¸€å † linterï¼ŒæŒ‘é¸è‡ªå·±æƒ³è¦çš„ linter æ”¾å…¥ g:go_metalinter_enabled é™£åˆ—è£¡ã€‚\nlet g:go_metalinter_command = \"golangci-lint\"let g:go_metalinter_enabled = ['vet', 'errcheck', 'staticcheck', 'gosimple']ä½¿ç”¨ :GoMetaLinter é–‹å§‹å°å°ˆæ¡ˆé€²è¡Œæª¢æŸ¥ã€‚\nç•¶ç„¶ code è¶Šå¤§æˆ–æ˜¯ linter æ”¾å¾—è¶Šå¤šæª¢æŸ¥è¶Šæ…¢ï¼Œæ‰€ä»¥æˆ‘é€šå¸¸å¯«åˆ°ä¸€å€‹æ®µè½æ‰ä¸‹æ­¤å‘½ä»¤ï¼Œlinter æª¢æŸ¥å®Œå¾Œ quickfix list å‰‡æœƒè·³å‡ºï¼Œè«‹çœ‹demoï¼š\ncode navigation è¨­å®šï¼Œä¸ä½¿ç”¨ vim-go é è¨­çš„ key mappingï¼Œä½¿ç”¨è‡ªå·±ç¿’æ…£çš„\u0008æ–¹å¼ï¼š\nlet g:go_def_mapping_enabled = 0autocmd Filetype go nmap buffer gd Plug(go-def)autocmd Filetype go nmap buffer gD Plug(go-describe)autocmd Filetype go nmap buffer gR Plug(go-rename)autocmd Filetype go nmap buffer gr Plug(go-referrers)æœ€å±Œçš„æ˜¯ vim-go èƒ½ç›´æ¥è·‘ Testing (:GoTest), Debugger (:GoDebugStart), Run (:GoRun), Build (:GoBuild)\nautocmd Filetype go nmap buffer f4 Plug(go-test)autocmd Filetype go nmap buffer f5 Plug(go-build)autocmd Filetype go nmap buffer f6 Plug(go-run):GoTest demoï¼š vim-go è¨­å®šä¸€å®šè¦çœ‹é vim-go-tutorial\u0008ï¼Œç”± vim-go ä½œè€…æä¾›çš„è¨­å®šæ•™å­¸ã€‚\nçµèª å¦‚æœè¦ä¸€å€‹é©åˆè‡ªå·±çš„ (neo)vim ç’°å¢ƒï¼Œç•¶ç„¶é€™ç¯‡æ–‡ç« åªæ˜¯å†°å±±ä¸€è§’è€Œå·²ã€‚é€™è£¡æåˆ°çš„ Pluginï¼Œæ¯ä¸€å€‹éƒ½å¯ä»¥é–‹ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹ï¼Œæ‰€ä»¥æ¯ä¸€å€‹ Plugin æˆ‘ç›¡é‡ç”¨æœ€ç°¡å–®çš„ç¯„ä¾‹è¨­å®šï¼Œå±•ç¾å®ƒçš„åŠŸèƒ½å’Œç²¾é«“ã€‚å¦å¤–é‚„æœ‰ fuzzy finder, auto pair, indent line guide, snippet ..ç­‰ Plugin, é‚„æ²’æåˆ°ï¼Œä¹‹å¾Œæœƒåˆ†å¥½å¹¾ç¯‡æ–‡ç« ä¾†å¯«ã€‚\nåœ¨é…ç½®è¨­å®šçš„ä¸€é–‹å§‹ï¼Œç›¡é‡å…ˆå»æŠ„åˆ¥äººçš„ï¼Œç›´æ¥çœ‹çœ‹æŠ„äº†è¨­å®šæœƒç™¼ç”Ÿä»€éº¼æ•ˆæœï¼Œ æˆ–æ˜¯ä½¿ç”¨ :help æŸ¥è©¢çœ‹çœ‹ã€‚\nQ \u0026 A è¦å»å“ªè£¡æŸ¥åˆ°åˆ¥äººçš„ vim è¨­å®šï¼Ÿ åœ¨ github ä¸ŠæŸ¥è©¢é—œéµå­—ï¼šdotfile, dotfiles, vimrc, vim-config, nvimrc ç­‰ç­‰çš„å­—ã€‚ é€™è£¡æˆ‘å°±æä¾›å…©å€‹å¤§ç¥çš„ vim è¨­å®šï¼š\n https://github.com/Shougo/shougo-s-github https://github.com/rafi/vim-config  Reference  https://github.com/neovim/nvim-lspconfig https://github.com/fatih/vim-go-tutorial  ","wordCount":"711","inLanguage":"zh","datePublished":"2020-09-03T10:48:54Z","dateModified":"2020-09-03T10:48:54Z","author":{"@type":"Person","name":"amikai"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://amikai.github.io/2020/09/03/go_neovim_env/"},"publisher":{"@type":"Organization","name":"no code no pain","logo":{"@type":"ImageObject","url":"https://amikai.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://amikai.github.io/ accesskey=h title="no code no pain (Alt + H)">no code no pain</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
<ul class=lang-switch><li>|</li>
<li>
<a href=https://amikai.github.io/en/ title=English aria-label=English>English</a>
</li>
</ul>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://amikai.github.io/archives title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://amikai.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://amikai.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Golang é–‹ç™¼ç’°å¢ƒ - ä½¿ç”¨ neovim
</h1>
<div class=post-meta>
September 3, 2020&nbsp;Â·&nbsp;amikai
</div>
</header>
<div class=post-content>
<p><img loading=lazy src=cover.png alt>
</p>
<h1 id=ä½ ç¢ºå®šè¦ç”¨-neovim-é–‹ç™¼-golang>ä½ ç¢ºå®šè¦ç”¨ neovim é–‹ç™¼ golang?<a hidden class=anchor aria-hidden=true href=#ä½ ç¢ºå®šè¦ç”¨-neovim-é–‹ç™¼-golang>#</a></h1>
<p>ç¾åœ¨æ˜¯ vscode ç¨±éœ¸å¤©ä¸‹çš„æ™‚ä»£ï¼Œç†æ‰€ç•¶ç„¶çš„ (neo)vim ä¹Ÿå¸¸å¸¸è¢«æ‹¿ä¾† vscode æ¯”è¼ƒï¼Œvscode å…§å»ºæ•´åˆäº† gitã€debuggerã€è‡ªå‹•è£œå…¨å¼•æ“ã€terminalã€extension managerï¼Œå¦å¤– Golang åœ¨ vscode ä¸Šçš„ extension æ”¯æ´ç›¸ç•¶è‰¯å¥½: åŒ…æ‹¬è·³è½‰åˆ°å®šç¾© (go to definition)ã€é‡æ–°å‘½å (rename)ã€è·³è½‰åˆ°å‹æ…‹å®šç¾© (go to type definition)â‹¯â‹¯ ä¸€å †ç´°ç¯€åŠŸèƒ½ï¼Œè¿‘æœŸç”±æ–¼ google golang team æ¥æ‰‹ go èªè¨€çš„ vscode extensionï¼Œç›¸ä¿¡ä½¿ç”¨ vscode é–‹ç™¼æ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚</p>
<p>(neo)vim ç•¶ç„¶ä¹Ÿèƒ½é”åˆ° vscode çš„é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯å¿…é ˆèŠ±æ™‚é–“è¨­å®šèª¿æ•™ï¼Œåœ¨ vscode å•ä¸–ä¹‹å‰æˆ‘æœƒæ¨è–¦ (Neo)vim çµ¦æˆ‘çš„æœ‹å‹ï¼Œvscode å•ä¸–ä¹‹å¾Œæˆ‘å°±é–‹å§‹æ¨è–¦ vscodeã€‚</p>
<blockquote>
<p>æœ¬æ–‡çµ¦é‚£äº›æœ¬ä¾†å°±åœ¨ (neo)vim è£¡æ‰“æ»¾çš„äººï¼Œä½†å° go èªè¨€è¨­å®šä¸ç†Ÿçš„äººï¼Œ
å¦‚æœä½ æ˜¯ä¸€å¼µç™½ç´™ï¼Œè€Œä¸”æ²’æœ‰è¢«è™çš„ç™–å¥½ï¼Œæˆ‘å»ºè­°é¸æ“‡ vscodeï¼Œå¯ä»¥ç”¨è¼ƒå°‘çš„æ™‚é–“é€²å…¥åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ï¼Œè€Œä¸æ˜¯ä¸€ç›´åœ¨èŠ±æ™‚é–“åœ¨è¨­å®šï¼Œé€™ç¯‡æ–‡ä½ ä¹Ÿæ²’å¿…è¦çœ‹ä¸‹å»ã€‚</p>
</blockquote>
<h1 id=é å‚™å‹•ä½œ>é å‚™å‹•ä½œ<a hidden class=anchor aria-hidden=true href=#é å‚™å‹•ä½œ>#</a></h1>
<p>Must have</p>
<ul>
<li>ä½ æ‡‰è©²å…ˆå®‰è£å¥½ neovim nightly ç‰ˆæœ¬ï¼Œ<code>brew install neovim --HEAD</code></li>
<li>ä½ æ‡‰è©²è¦çŸ¥é“æ€éº¼ä½¿ç”¨ vim-plugï¼Œè‡³å°‘è¦çŸ¥é“ <code>:PlugInstall</code></li>
<li>ä½ æ‡‰è©²å…ˆæŠŠ go èªè¨€ç’°å¢ƒå®‰è£å¥½</li>
</ul>
<p>Nice to have</p>
<ul>
<li>ä½ çŸ¥é“ <code>:checkhealth</code> å’Œ <code>:UpdateRemotePlugin</code></li>
<li>ä½ ç†Ÿæ‚‰ <code>:help</code> çš„ä½¿ç”¨æ–¹å¼ï¼Œé€™è£¡æœ‰ä¸€ç¯‡å¥½æ–‡ï¼š<a href=https://vim.fandom.com/wiki/Learn_to_use_help>Learn to use help</a></li>
</ul>
<h1 id=é–‹ç™¼ç’°å¢ƒåŸºæœ¬åŠŸèƒ½>é–‹ç™¼ç’°å¢ƒåŸºæœ¬åŠŸèƒ½<a hidden class=anchor aria-hidden=true href=#é–‹ç™¼ç’°å¢ƒåŸºæœ¬åŠŸèƒ½>#</a></h1>
<p>ä¸€å€‹å¥½ç”¨çš„ Editor æˆ‘èªç‚ºæ‡‰è©²åŒ…å«ä»¥ä¸‹å¹¾é»åŸºæœ¬åŠŸèƒ½:</p>
<ul>
<li>Auto completion - å¥½çš„è‡ªå‹•è£œå…¨å¼•æ“</li>
<li>File manager - å¯ä»¥åœ¨å´é‚Šæ¬„çœ‹åˆ°å°ˆæ¡ˆçš„çµæ§‹</li>
<li>Real time linter - åœ¨å¯« code çŠ¯éŒ¯çš„åŒæ™‚ï¼Œæœ‰ä¸€äº›æç¤º (ä¹Ÿå°±æ˜¯ diagnostic åŠŸèƒ½)</li>
<li>Background compile - ç·¨è­¯çš„åŒæ™‚ä¸æ‡‰è©²å¡ä½æ•´å€‹ Editorï¼Œè¦è®“ä½¿ç”¨è€…èƒ½åšå…¶ä»–äº‹æƒ…</li>
<li>Code navigation: åŒ…å«è·³è½‰åˆ°å®šç¾©ï¼Œè·³è½‰åˆ°å‹æ…‹å®šç¾©ï¼Œæˆ–æ˜¯ç•¶ä¸€å€‹æª”æ¡ˆå¯«å¾—å¾ˆé•·çš„æ™‚å€™ï¼Œæ€éº¼ç¶œè§€å…¨å±€</li>
</ul>
<p>ä»¥ä¸‹æˆ‘å°‡æœƒä»‹ç´¹æˆ‘ä½¿ç”¨çš„ Pluginï¼Œé”åˆ°æˆ‘ä¸Šè¿°æ‰€æåˆ°çš„åŠŸèƒ½ã€‚
ä»¥ä¸‹ä½¿ç”¨çš„çš†æ˜¯ Neovim nightly ç‰ˆæœ¬ï¼Œä½¿ç”¨ stable æ˜¯æ²’æœ‰å®˜æ–¹ LSP æ”¯æ´çš„ã€‚</p>
<p>Noteï¼šneovim æ˜¯ç”± vim æ‰€ fork å‡ºä¾†çš„ï¼Œå·®ç•°ä»‹ç´¹è«‹çœ‹<a href=https://kerol2r20.github.io/post/2017-10-29-neovim-introdunction/>é€™ç¯‡</a>ï¼ŒæŸäº› Plugin ä¸æœƒåŒæ™‚ç›¸å®¹æ–¼å…©è€…ï¼Œæˆ‘æ¥æœƒæ¨™æ˜ã€‚</p>
<h1 id=file-explorer-defxnvim>File explorer (defx.nvim)<a hidden class=anchor aria-hidden=true href=#file-explorer-defxnvim>#</a></h1>
<p><img loading=lazy src=defx.png alt>
</p>
<p>ç‚ºä»€éº¼ä¸ç”¨è€ç‰Œçš„ nerdtree å°±å¥½ï¼Œè¦ä½¿ç”¨åˆ¥çš„ file explorerï¼Œ
æ²’è¾¦æ³• nerdtree å°±æ˜¯æ…¢ï¼Œåªè¦å°ˆæ¡ˆç¨å¾®æœ‰ä¸€é»è¦æ¨¡ï¼Œå°±æœƒæœ‰æ˜é¡¯çš„å¡é “ã€‚</p>
<p>defx ç”± python3 å¯«æˆï¼Œæ˜¯ä¸€å€‹éœ€è¦é«˜åº¦æ‰‹å‹•è¨­å®šçš„ file explorerï¼Œä¸åƒ nerdtree å¹¾ä¹å¯ä»¥é–‹ç®±åŠç”¨ï¼Œåœ¨è¨­å®šæ™‚ä¸€å®šå¾—æŸ¥çœ‹ defx çš„ help æ–‡ä»¶ï¼Œè£¡é ­æœ‰ç›¸ç•¶å¤šè¨­å®šç¯„ä¾‹ã€‚</p>
<p>ç‚ºäº†è®“ neovim çŸ¥é“ python3 åœ¨å“ªï¼Œå°‡æ­¤è¡Œå¯«å…¥ vimrcï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>python3_host_prog</span> = <span style=color:#e6db74>&#39;/path/to/python3&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>è¨­å®šå®Œæ­¤è¡Œä¹‹è¡Œ åŸ·è¡Œ <code>:checkhealth</code>ï¼Œneovim å°±æœƒé–‹å§‹æŸ¥çœ‹æœ‰æ²’æœ‰æŠ“åˆ° python3</p>
<p>å®‰è£</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;Shougo/defx.nvim&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>å®‰è£å®Œå¾ŒåŸ·è¡Œ <code>:UpdateRemotePlugins</code></p>
<p>ä½¿ç”¨ F4 æ˜ å°„åˆ° defx</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>noremap</span> &lt;<span style=color:#a6e22e>silent</span>&gt;&lt;<span style=color:#a6e22e>F4</span>&gt; &lt;<span style=color:#a6e22e>cmd</span>&gt;<span style=color:#a6e22e>Defx</span> -<span style=color:#a6e22e>buffer</span>-<span style=color:#a6e22e>name</span>=<span style=color:#e6db74>&#34;defx&#34;</span>&lt;<span style=color:#a6e22e>cr</span>&gt;<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>å¤–è§€è¨­å®š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>custom</span>#<span style=color:#a6e22e>column</span>(<span style=color:#e6db74>&#39;icon&#39;</span>, {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;directory_icon&#39;</span>: <span style=color:#e6db74>&#39;â–¸&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;opened_icon&#39;</span>: <span style=color:#e6db74>&#39;â–¾&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;root_icon&#39;</span>: <span style=color:#e6db74>&#39;ğŸ“ &#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ })<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>custom</span>#<span style=color:#a6e22e>column</span>(<span style=color:#e6db74>&#39;filename&#39;</span>, {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;min_width&#39;</span>: <span style=color:#ae81ff>128</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;max_width&#39;</span>: <span style=color:#ae81ff>128</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ })<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>custom</span>#<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;_&#39;</span>, {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;columns&#39;</span>: <span style=color:#e6db74>&#39;mark:indent:icon:filename:type&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;split&#39;</span>: <span style=color:#e6db74>&#39;vertical&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;winwidth&#39;</span>: <span style=color:#ae81ff>35</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;direction&#39;</span>: <span style=color:#e6db74>&#39;topleft&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;resume&#39;</span>: <span style=color:#a6e22e>v</span>:<span style=color:#a6e22e>false</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;toggle&#39;</span>: <span style=color:#a6e22e>v</span>:<span style=color:#a6e22e>true</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ })<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>ä½¿ç”¨ enter æ‰“é–‹æˆ–é—œé–‰è³‡æ–™å¤¾ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-VIM data-lang=VIM><span style=color:#a6e22e>nnoremap</span> &lt;<span style=color:#a6e22e>silent</span>&gt;&lt;<span style=color:#a6e22e>buffer</span>&gt;&lt;<span style=color:#a6e22e>expr</span>&gt; &lt;<span style=color:#a6e22e>CR</span>&gt;<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>is_directory</span>() ?<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>do_action</span>(<span style=color:#e6db74>&#39;open_or_close_tree&#39;</span>) :<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#a6e22e>defx</span>#<span style=color:#a6e22e>do_action</span>(<span style=color:#e6db74>&#39;drop&#39;</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>å› ç‚º defx çš„é«˜åº¦å½ˆæ€§ï¼Œä»¥åŠèˆŠæœ‰çš„ nerdtreeä½¿ç”¨ç¿’æ…£ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠ defx çš„ key mapping è¨­å®šæˆé¡ä¼¼ nerdtreeï¼Œé€™è£¡å°±åªåšåŸºæœ¬è¨­å®šï¼Œä»¥å¾Œæœ‰ç©ºæœƒå¤šé–‹ä¸€ç¯‡è©³ç´°è¬› defx è¨­å®šï¼Œå¦‚æœæœ‰èˆˆè¶£è«‹åƒè€ƒ<a href=https://github.com/amikai/nvimrc/blob/46d4c73f9e/config/defx.vim>æˆ‘çš„è¨­å®š</a></p>
<p>Note: defx (neovim only)</p>
<p>é¡ä¼¼ Plugin: <a href=https://github.com/preservim/nerdtree>nerdtree</a> (vim and neovim), <a href=https://github.com/justinmk/vim-dirvish>vim-dirvish</a> (vim and neovim)</p>
<h1 id=auto-completion-completion-nvim--diagnostic-diagnostic-nvim>Auto completion (completion-nvim) & diagnostic (diagnostic-nvim)<a hidden class=anchor aria-hidden=true href=#auto-completion-completion-nvim--diagnostic-diagnostic-nvim>#</a></h1>
<p>completion-nvim å’Œ diagnostic-nvim éƒ½æ˜¯åŸºæ–¼ nvim-lspconfig çš„ Pluginï¼Œ
å¯ä»¥æŠŠ nvim-lspconfig ç•¶æˆå’Œ language server æºé€šçš„åŸºç¤è¨­æ–½ï¼ŒGolang é è¨­çš„ language server ç•¶ç„¶å°±æ˜¯ gopls å•¦</p>
<p>å®‰è£</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;neovim/nvim-lspconfig&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;nvim-lua/diagnostic-nvim&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;nvim-lua/completion-nvim&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>åœ¨ lsp client æ™‚ï¼Œå•Ÿå‹• <code>completion-nvim</code> å’Œ <code>diagnostic-nvim</code>ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua>lua <span style=color:#f92672>&lt;&lt;</span> EOF
    <span style=color:#66d9ef>local</span> nvim_lsp <span style=color:#f92672>=</span> require<span style=color:#e6db74>&#39;nvim_lsp&#39;</span>
    <span style=color:#66d9ef>local</span> on_attach_vim <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(client, bufnr)
        require<span style=color:#e6db74>&#39;completion&#39;</span>.on_attach(client, bufnr)
        require<span style=color:#e6db74>&#39;diagnostic&#39;</span>.on_attach(client, bufnr)
    <span style=color:#66d9ef>end</span>
    nvim_lsp.gopls.setup{
        on_attach<span style=color:#f92672>=</span>on_attach_vim
    }
EOF
</code></pre></div><p><code>diagnostic-nvim</code> ç¯„ä¾‹è¨­å®šï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>sign_define</span>(<span style=color:#e6db74>&#34;LspDiagnosticsErrorSign&#34;</span>, {<span style=color:#e6db74>&#34;text&#34;</span> : <span style=color:#e6db74>&#34;E&#34;</span>, <span style=color:#e6db74>&#34;texthl&#34;</span> : <span style=color:#e6db74>&#34;LspDiagnosticsError&#34;</span>})<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>sign_define</span>(<span style=color:#e6db74>&#34;LspDiagnosticsWarningSign&#34;</span>, {<span style=color:#e6db74>&#34;text&#34;</span> : <span style=color:#e6db74>&#34;W&#34;</span>, <span style=color:#e6db74>&#34;texthl&#34;</span> : <span style=color:#e6db74>&#34;LspDiagnosticsWarning&#34;</span>})<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>sign_define</span>(<span style=color:#e6db74>&#34;LspDiagnosticsInformationSign&#34;</span>, {<span style=color:#e6db74>&#34;text&#34;</span> : <span style=color:#e6db74>&#34;I&#34;</span>, <span style=color:#e6db74>&#34;texthl&#34;</span> : <span style=color:#e6db74>&#34;LspDiagnosticsInformation&#34;</span>})<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>sign_define</span>(<span style=color:#e6db74>&#34;LspDiagnosticsHintSign&#34;</span>, {<span style=color:#e6db74>&#34;text&#34;</span> : <span style=color:#e6db74>&#34;H&#34;</span>, <span style=color:#e6db74>&#34;texthl&#34;</span> : <span style=color:#e6db74>&#34;LspDiagnosticsHint&#34;</span>})<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>diagnostic_show_sign</span> = <span style=color:#ae81ff>1</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>diagnostic_enable_virtual_text</span> = <span style=color:#ae81ff>1</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>diagnostic_insert_delay</span> = <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>diagnostic_virtual_text_prefix</span> = <span style=color:#e6db74>&#39;&lt;&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>æ•ˆæœï¼š
<img loading=lazy src=diagnostic_demo.gif alt>
</p>
<p>å¦‚æœè¦ºå¾—å­—é‚„æ²’æ‰“å®Œå°±æœ‰è­¦å‘Šå¾ˆç…©ï¼Œå¯ä»¥æ”¹è®Šæ­¤é¸é … <code>let g:diagnostic_insert_delay = 1</code>ï¼Œå‰‡æœƒåœ¨é€²å…¥ normal mode æ™‚é€²è¡Œè­¦å‘Šã€‚</p>
<p><code>completion-nvim</code> ç¯„ä¾‹è¨­å®šï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>completion_chain_complete_list</span> = [<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \{<span style=color:#e6db74>&#39;complete_items&#39;</span>: [<span style=color:#e6db74>&#39;lsp&#39;</span>]},<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>æ•ˆæœ
<img loading=lazy src=completion_demo.gif alt>
</p>
<p>Note: <code>nvim-lspconfig</code>, <code>completion-nvim</code>, <code>diagnostic-nvim</code> çš†ä¸ç›¸å®¹ vim</p>
<p>LSP ç›¸é—œ Pluginï¼š <a href=https://github.com/prabirshrestha/vim-lsp>vim-lsp</a> (vim only), <a href=https://github.com/autozimu/LanguageClient-neovim>LanguageClient-neovim</a> (neovim only)</p>
<p>Completion ç›¸é—œ Pluginï¼š <a href=https://github.com/ncm2/ncm2>ncm2</a> (vim8 and neovim), <a href=https://github.com/Shougo/deoplete.nvim>deoplete.nvim</a> (vim8 and neovim)</p>
<p>Diagnostic ç›¸é—œ Plugin: <a href=https://github.com/neomake/neomake>neomake</a> (neovim and vim8), <a href=https://github.com/dense-analysis/ale>ale</a> (neovim and vim8)</p>
<blockquote>
<p>çœ‹äº† completion-nvim çš„ contribution å¤§éƒ¨åˆ†æ˜¯ç”± haorenW1025 å¤§å¤§æ‰€å¯«ï¼Œå¸³è™Ÿæ› NTUï¼Œå°ç£äººå¯«çš„å¥—ä»¶é‚„ä¸æ”¯æŒä¸€æ³¢</p>
</blockquote>
<h1 id=code-outline-tagbar>Code Outline (tagbar)<a hidden class=anchor aria-hidden=true href=#code-outline-tagbar>#</a></h1>
<p><img loading=lazy src=tagbar_demo.png alt>
</p>
<p>ç•¶ code è¶Šå¯«è¶Šå¤šï¼Œä¸€å€‹ file è¶Šé•·è¶Šå¤§ï¼Œä¸€å€‹ file è¶…é 1000 è¡Œï¼Œæˆ–è¶…é 15 å€‹ functionï¼Œå°±éœ€è¦ä¸€å€‹ç¶œè§€å…¨å±€çš„ Pluginï¼Œé€™ç•¶ç„¶å°±éœ€è¦äº¤çµ¦ <code>tagbar</code> äº†ã€‚</p>
<p>å¦å¤–ä¸€ç¨®æƒ…å¢ƒï¼Œç•¶ä½ ä¸ç†Ÿä½ æ‰‹ä¸Šçš„é€™ä»½å°ˆæ¡ˆæ™‚ï¼Œç”¨ <code>tagbar</code> å…ˆé€²è¡Œå¤§ç¶±å¼çš„è§€å¯Ÿï¼Œæ˜¯å†å¥½ä¸éçš„æ–¹å¼äº†</p>
<p>é¦–å…ˆå…ˆå®‰è£ <a href=https://github.com/jstemmer/gotags>gotags</a>, gotags åœ¨ Readme ä¸Šéƒ½å¯«å¥½æ€éº¼è¨­å®šäº†ã€‚</p>
<p>å®‰è£ Tagbar:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;majutsushi/tagbar&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>gotags åŠ tagbar è¨­å®šï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>tagbar_type_go</span> = {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;ctagstype&#39;</span> : <span style=color:#e6db74>&#39;go&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;kinds&#39;</span>     : [<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;p:package&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;i:imports:1&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;c:constants&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;v:variables&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;t:types&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;n:interfaces&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;w:fields&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;e:embedded&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;m:methods&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;r:constructor&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;f:functions&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ ],<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;sro&#39;</span> : <span style=color:#e6db74>&#39;.&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;kind2scope&#39;</span> : {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;t&#39;</span> : <span style=color:#e6db74>&#39;ctype&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;n&#39;</span> : <span style=color:#e6db74>&#39;ntype&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ },<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;scope2kind&#39;</span> : {<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;ctype&#39;</span> : <span style=color:#e6db74>&#39;t&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;ntype&#39;</span> : <span style=color:#e6db74>&#39;n&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ },<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;ctagsbin&#39;</span>  : <span style=color:#e6db74>&#39;gotags&#39;</span>,<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ <span style=color:#e6db74>&#39;ctagsargs&#39;</span> : <span style=color:#e6db74>&#39;-sort -silent&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>            \ }<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h1 id=go-development-plugin-vim-go>Go development plugin (vim-go)<a hidden class=anchor aria-hidden=true href=#go-development-plugin-vim-go>#</a></h1>
<p>Golang åœ¨ vim çš„é–‹ç™¼ä¸­ï¼Œä¸å¯èƒ½ä¸æ <code>vim-go</code> äº†ï¼Œæ‡‰è©²ä¹Ÿæ˜¯æˆ‘åœ¨ vim plugin çœ‹éæ”¯æ´å®Œæ•´çš„é–‹ç™¼å·¥å…·ä¹‹ä¸€äº†ï¼Œvim-go è¨­å®šçœ¾å¤šï¼Œæˆ‘åªæŒ‘å‡ºäº†æˆ‘è¦ºå¾—æœ€æœ‰ç”¨çš„å¹¾å€‹å‡ºä¾†è«‡ã€‚</p>
<p>å®‰è£</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;fatih/vim-go&#39;</span>,{<span style=color:#e6db74>&#39;for&#39;</span>:<span style=color:#e6db74>&#39;go&#39;</span>, <span style=color:#e6db74>&#39;do&#39;</span>: <span style=color:#e6db74>&#39;:GoUpdateBinaries&#39;</span>}<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p><a href=https://github.com/golangci/golangci-lint>golangci-lint</a> æ˜¯æŠŠä¸ä¸€æ¨£çš„ go èªè¨€ linter é›†åˆèµ·ä¾†æˆä¸€åŒ…ï¼Œåœ¨ teminal æ‰“ <code>golangci-lint linters</code> å°±æœƒåˆ—å‡ºä¸€å † linterï¼ŒæŒ‘é¸è‡ªå·±æƒ³è¦çš„ linter æ”¾å…¥ <code>g:go_metalinter_enabled</code> é™£åˆ—è£¡ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>go_metalinter_command</span> = <span style=color:#e6db74>&#34;golangci-lint&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>go_metalinter_enabled</span> = [<span style=color:#e6db74>&#39;vet&#39;</span>, <span style=color:#e6db74>&#39;errcheck&#39;</span>, <span style=color:#e6db74>&#39;staticcheck&#39;</span>, <span style=color:#e6db74>&#39;gosimple&#39;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>ä½¿ç”¨ <code>:GoMetaLinter</code> é–‹å§‹å°å°ˆæ¡ˆé€²è¡Œæª¢æŸ¥ã€‚</p>
<p>ç•¶ç„¶ code è¶Šå¤§æˆ–æ˜¯ linter æ”¾å¾—è¶Šå¤šæª¢æŸ¥è¶Šæ…¢ï¼Œæ‰€ä»¥æˆ‘é€šå¸¸å¯«åˆ°ä¸€å€‹æ®µè½æ‰ä¸‹æ­¤å‘½ä»¤ï¼Œlinter æª¢æŸ¥å®Œå¾Œ quickfix list å‰‡æœƒè·³å‡ºï¼Œè«‹çœ‹demoï¼š</p>
<p><img loading=lazy src=golangci_lint_demo.gif alt>
</p>
<p>code navigation è¨­å®šï¼Œä¸ä½¿ç”¨ <code>vim-go</code> é è¨­çš„ key mappingï¼Œä½¿ç”¨è‡ªå·±ç¿’æ…£çš„æ–¹å¼ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span>:<span style=color:#a6e22e>go_def_mapping_enabled</span> = <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; <span style=color:#a6e22e>gd</span> &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>def</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; <span style=color:#a6e22e>gD</span> &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>describe</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; <span style=color:#a6e22e>gR</span> &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>rename</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; <span style=color:#a6e22e>gr</span> &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>referrers</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>æœ€å±Œçš„æ˜¯ vim-go èƒ½ç›´æ¥è·‘ Testing (<code>:GoTest</code>), Debugger (<code>:GoDebugStart</code>), Run (<code>:GoRun</code>), Build (<code>:GoBuild</code>)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; &lt;<span style=color:#a6e22e>f4</span>&gt; &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>test</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; &lt;<span style=color:#a6e22e>f5</span>&gt; &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>build</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>autocmd</span> <span style=color:#a6e22e>Filetype</span> <span style=color:#a6e22e>go</span> <span style=color:#a6e22e>nmap</span> &lt;<span style=color:#a6e22e>buffer</span>&gt; &lt;<span style=color:#a6e22e>f6</span>&gt; &lt;<span style=color:#a6e22e>Plug</span>&gt;(<span style=color:#a6e22e>go</span>-<span style=color:#a6e22e>run</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p><code>:GoTest</code> demoï¼š
<img loading=lazy src=go_test_demo.gif alt>
</p>
<p>vim-go è¨­å®šä¸€å®šè¦çœ‹é <a href=https://github.com/fatih/vim-go-tutorial>vim-go-tutorial</a>ï¼Œç”± vim-go ä½œè€…æä¾›çš„è¨­å®šæ•™å­¸ã€‚</p>
<h1 id=çµèª>çµèª<a hidden class=anchor aria-hidden=true href=#çµèª>#</a></h1>
<p>å¦‚æœè¦ä¸€å€‹é©åˆè‡ªå·±çš„ (neo)vim ç’°å¢ƒï¼Œç•¶ç„¶é€™ç¯‡æ–‡ç« åªæ˜¯å†°å±±ä¸€è§’è€Œå·²ã€‚é€™è£¡æåˆ°çš„ Pluginï¼Œæ¯ä¸€å€‹éƒ½å¯ä»¥é–‹ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹ï¼Œæ‰€ä»¥æ¯ä¸€å€‹ Plugin æˆ‘ç›¡é‡ç”¨æœ€ç°¡å–®çš„ç¯„ä¾‹è¨­å®šï¼Œå±•ç¾å®ƒçš„åŠŸèƒ½å’Œç²¾é«“ã€‚å¦å¤–é‚„æœ‰ fuzzy finder, auto pair, indent line guide, snippet ..ç­‰ Plugin, é‚„æ²’æåˆ°ï¼Œä¹‹å¾Œæœƒåˆ†å¥½å¹¾ç¯‡æ–‡ç« ä¾†å¯«ã€‚</p>
<p>åœ¨é…ç½®è¨­å®šçš„ä¸€é–‹å§‹ï¼Œç›¡é‡å…ˆå»æŠ„åˆ¥äººçš„ï¼Œç›´æ¥çœ‹çœ‹æŠ„äº†è¨­å®šæœƒç™¼ç”Ÿä»€éº¼æ•ˆæœï¼Œ æˆ–æ˜¯ä½¿ç”¨ <code>:help</code> æŸ¥è©¢çœ‹çœ‹ã€‚</p>
<h1 id=q--a>Q & A<a hidden class=anchor aria-hidden=true href=#q--a>#</a></h1>
<p>è¦å»å“ªè£¡æŸ¥åˆ°åˆ¥äººçš„ vim è¨­å®šï¼Ÿ
åœ¨ github ä¸ŠæŸ¥è©¢é—œéµå­—ï¼šdotfile, dotfiles, vimrc, vim-config, nvimrc ç­‰ç­‰çš„å­—ã€‚
é€™è£¡æˆ‘å°±æä¾›å…©å€‹å¤§ç¥çš„ vim è¨­å®šï¼š</p>
<ul>
<li><a href=https://github.com/Shougo/shougo-s-github>https://github.com/Shougo/shougo-s-github</a></li>
<li><a href=https://github.com/rafi/vim-config>https://github.com/rafi/vim-config</a></li>
</ul>
<h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1>
<ul>
<li><a href=https://github.com/neovim/nvim-lspconfig>https://github.com/neovim/nvim-lspconfig</a></li>
<li><a href=https://github.com/fatih/vim-go-tutorial>https://github.com/fatih/vim-go-tutorial</a></li>
</ul>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://amikai.github.io/tags/vim/>vim</a></li>
<li><a href=https://amikai.github.io/tags/neovim/>neovim</a></li>
</ul>
</footer>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//amikai-github-io.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</article>
</main><footer class=footer>
<span>&copy; 2021 <a href=https://amikai.github.io/>no code no pain</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>